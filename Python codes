import spacy

nlp = spacy.load("en_core_web_md")

text = "The address is 123 Main St. in Anytown, USA."

doc = nlp(text)

addresses = []
current_address = []

for token in doc:
    if token.ent_type_ == "GPE" or token.ent_type_ == "LOC":
        current_address.append(token.text)
    else:
        if current_address:
            addresses.append(" ".join(current_address))
            current_address = []

if current_address:
    addresses.append(" ".join(current_address))

print("Detected Addresses:", addresses)
